!function(a){({init:function(){this.bindEvents(),this.initLib(),this.initAccessibility(),this.initOffCanvasMenu(),this.initSearchForm(),this.navigationMenu(),this.untoggleOnEscapeKeyPress()},trapFocus:function(t,s){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),i=e[0];lastFocusableEl=e[e.length-1],KEYCODE_TAB=9,t.addEventListener("keydown",function(e){("Tab"===e.key||e.keyCode===KEYCODE_TAB)&&(t.classList.contains(s)?e.shiftKey?document.activeElement===i&&(lastFocusableEl.focus(),e.preventDefault()):document.activeElement===lastFocusableEl&&(i.focus(),e.preventDefault()):t.removeEventListener("keydown",this))})},untoggleOnEscapeKeyPress:function(){document.addEventListener("keyup",function(e){"Escape"===e.key&&document.querySelectorAll("*[data-untoggle-on-escape].close").forEach(function(e){e.classList.contains("close")&&e.click()})})},navigationMenu:function(){a(".yatri-mobile-menu").each(function(){var e=a(this).find("ul.sub-menu"),t=a('<button class="yatri-submenu-toggle fa fa-angle-down"/>');e.prev("a").append(t)}),a("body").on("click",".yatri-submenu-toggle",function(e){e.preventDefault(),a(this).closest("li.menu-item").hasClass("yatri-menu-open")?(a(this).closest("li.menu-item").addClass("yatri-menu-close"),a(this).closest("li.menu-item").removeClass("yatri-menu-open")):(a(this).closest("li.menu-item").addClass("yatri-menu-open"),a(this).closest("li.menu-item").removeClass("yatri-menu-close"))}),a("body").on("click",".yatri-responsive-toggle-menu",function(){var e=a(this),t=a(this).closest(".yatri-responsive-toggle-menu-wrap").attr("data-id");void 0===t||typeof t===undefined||""===t?a(this).closest(".yatri-section-container").hasClass("yatri-toggle-section-open")?a(this).closest(".yatri-section-container").find(".yatri-section-inner").slideUp("slow",function(){e.closest(".yatri-section-container").removeClass("yatri-toggle-section-open"),e.removeClass("close"),e.addClass("open")}):(e.closest(".yatri-section-container").addClass("yatri-toggle-section-open"),a(this).closest(".yatri-section-container").find(".yatri-section-inner").slideDown("slow",function(){e.removeClass("open"),e.addClass("close")})):a("#"+t).hasClass("yatri-navigation-menu-open")?(a(this).removeClass("close"),a(this).addClass("open"),a("#"+t).removeClass("yatri-navigation-menu-open"),a(this).focus()):(a(this).removeClass("open"),a(this).addClass("close"),a("#"+t).addClass("yatri-navigation-menu-open"),a(document).trigger("yatri_focus_inside_element",[t,".yatri-mobile-navigation-close","yatri-navigation-menu-open"]))})},getPosition:function(e){for(var t=0,s=0;e;){if("BODY"==e.tagName){var i=e.scrollLeft||document.documentElement.scrollLeft,n=e.scrollTop||document.documentElement.scrollTop;t+=e.offsetLeft-i+e.clientLeft,s+=e.offsetTop-n+e.clientTop}else t+=e.offsetLeft-e.scrollLeft+e.clientLeft,s+=e.offsetTop-e.scrollTop+e.clientTop;e=e.offsetParent}return{x:t,y:s}},getOffsetLeft:function(e){for(var t=0;isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent;);return t},getOffset:function(e){var t={},s=e.offset();t.left=e.offset().left,t.top=s.top;var i=a(window).width()-(e.offset().left+e.outerWidth());return t.right=i,t},initSearchForm:function(){var n=this,e=a(".yatri-section-search-form.form-type-default");a.each(e,function(){a(this).find(".search-form-main").removeClass("before-left").removeClass("before-right");var e=n.getOffset(a(this).find(".yatri-search-icon")),t=a(this).find(".search-form-main"),s=e.left+t.width(),i=a(this).closest(".yat-container");n.getOffset(i).left+i.width()>e.left+s?(t.css({left:"0",right:"unset"}),a(this).find(".search-form-main").addClass("before-left")):(t.css({right:"0",left:"unset"}),a(this).find(".search-form-main").addClass("before-right"))}),e.find(".search-main").click(function(){var e=a(this).closest(".yatri-section-search-form");e.find(".search-form-main").toggleClass("active-search"),e.find(".search-form-main .search-field").focus()})},bindEvents:function(){var o=this;a(window).on("resize",function(){}),a(document).ready(function(){}),a(".yatri-canvas-close").on("click",function(){var e=a(this).closest(".yatri-offcanvas-menu-content").attr("id");a("body").find('.yatri-section-offcanvas-menu[data-id="'+e+'"]').find(".yatri-toggle-wrap").trigger("click")}),a(".yatri-mobile-navigation-close").on("click",function(){var e=a(this).closest(".yatri-section-inner").attr("id");a("body").find('.yatri-responsive-toggle-menu-wrap[data-id="'+e+'"]').find(".yatri-responsive-toggle-menu").trigger("click")}),a(document).on("yatri_focus_inside_element",function(e,t,s,i){a("#"+t).find(s).focus();var n=document.getElementById(t);o.trapFocus(n,i)})},initOffCanvasMenu:function(){a(".yatri-section-offcanvas-menu").find(".yatri-toggle-wrap").click(function(){var e=a(this).closest(".yatri-section-offcanvas-menu").attr("data-id");a(this).closest(".yatri-section-offcanvas-menu").hasClass("show-nav")?(a(this).closest(".yatri-section-offcanvas-menu").removeClass("show-nav"),a(this).removeClass("close"),a(this).closest(".yatri-section-offcanvas-menu").find(".toggle-icon").addClass("fa-bars").removeClass("fa-times"),a("#"+e).removeClass("yatri-offcanvas-open"),a(this).focus()):(a(this).closest(".yatri-section-offcanvas-menu").addClass("show-nav"),a(this).addClass("close"),a(this).closest(".yatri-section-offcanvas-menu").find(".toggle-icon").addClass("fa-times").removeClass("fa-bars"),a("#"+e).addClass("yatri-offcanvas-open"),a(document).trigger("yatri_focus_inside_element",[e,".yatri-offcanvas-close-button","yatri-offcanvas-open"]))})},initLib:function(){},initAccessibility:function(){var e=a(".main-navigation ul.menu");e.find("li.menu-item").focusin(function(){a(this).hasClass("focus")||a(this).addClass("focus")}),e.find("li.menu-item").focusout(function(){a(this).removeClass("focus")})}}).init()}(jQuery);